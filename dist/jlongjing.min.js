!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("longjing",[],n):"object"==typeof exports?exports.longjing=n():e.longjing=n()}(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){var t,o,r;window.ljTsEventAction={},window.onTsEvent=function(){var e;switch(arguments.length){case 1:e="string"==typeof arguments[0]?JSON.parse(arguments[0]):arguments[0],"function"==typeof ljTsEventAction[e.fn]&&ljTsEventAction[e.fn](e.data);break;case 2:"function"==typeof ljTsEventAction[arguments[0]]&&ljTsEventAction[arguments[0]](arguments[1])}},e.exports=(t=function(e,n){return n?JSON.stringify({fn:e,data:n}):JSON.stringify({fn:e})},o=function(){var e=arguments[0],n="object"==typeof arguments[1]?arguments[1]:null,o=null;if("object"==typeof arguments[1]?!0===arguments[2]:!0===arguments[1])try{return void 0!==(o=JSON.parse(window.tianshan.invokeApp(t(e,n)))).code&&0==o.code?o.data||{}:o}catch(r){return console.log(t(e,n),window.tianshan.invokeApp(t(e,n)),"tianshan return data is not json format",r),o}else try{window.tianshan.invokeApp(t(e,n))}catch(o){console.log("app run function has error",t(e,n),o)}},r={test:function(){return"driver is ok"},getAppID:function(){return o("getAppId",!0)},getPageType:function(){return o("getPageType",!0)},restart:function(){o("restart")},upgrade:function(e){o("upgrade",e)},open:function(e){o("open",e)},quit:function(e){o("quit",e)},readFile:function(e){return o("readFile",e,!0)},readConfig:function(){return o("readConfig",!0)},getAppVersion:function(){return o("getAppVersion",!0)},writeConfig:function(e){o("writeConfig",e)},setQuitTime:function(e){o("setQuitTime",e)},notifyMainPage:function(){o("notifyMainPage")},ttsSpeak:function(e){o("ttsSpeak",e)},loadSuccess:function(e){o("loadSuccess",e)},loaded:function(){o("loaded")},createTimerTask:function(e){o("createTimerTask",e)},stopTimerTask:function(e){o("stopTimerTask",e)},changeLed:function(e){o("changeLed",e)}},function(e,n){return r[e]?"function"==typeof r[e]?r[e](n):r[e]:n?(n.callback&&n.callback(n),n.callbackFn&&n.callbackFn(n),void(n.fn&&n.fn(n))):null})},function(e,n,t){var o=t(0),r={getDeviceNumber:function(){return this.get().clientNumber||null},getSellerId:function(){return this.get().sellerId||null},getPointNo:function(){return this.get().pointNo||null},get:function(){var e=o("readFile",{path:"sys/client.json"})||{},n={};try{n=JSON.parse(e.content)}catch(t){n=e.content||{}}return n}},i=o("getAppID"),c={test:function(){return"hello world"},config:function(){var e=function(){var e=n(),t=arguments[0];if("object"==typeof t)for(var r in t)e[r]=t[r];else e[t]=arguments[1];o("writeConfig",{content:JSON.stringify(e)})},n=function(e){var n=o("readConfig")||{},t={};try{t="string"==typeof n.content?function(e){return"object"==typeof e?e:arguments.callee(JSON.parse(e))}(JSON.parse(n.content)||{}):n.content||{}}catch(e){t=n.content||{},console.log("读取配置时，数据处理异常")}if(e)switch(e){case"deviceNumber":return r.getDeviceNumber();case"sellerId":return r.getSellerId();case"pointNo":return r.getPointNo();case"appid":case"appId":case"appID":return"object"==typeof i?i.appId:i;default:return t[e]||null}return t};switch(arguments.length){case 2:e(arguments[0],arguments[1]);break;case 1:if("object"==typeof arguments[0]&&e(arguments[0]),"string"==typeof arguments[0])return n(arguments[0]);break;case 0:return n()}},getAppVersion:function(){var e=o("getAppVersion");return"object"==typeof e?e.appVersion:e},openChildWindow:function(e){o("open",{type:e.type||"offline",url:e.path})},closeChildWindow:function(e){e?o("quit",{url:e}):o("quit")},refresh:function(e){o("refresh",{path:e})},upgrade:function(e){o("upgrade",{url:e.url}),this.ts("upgradeResult",function(){o("restart")})},setChildWindowAutoCloseSecond:function(e){o("setQuitTime",{time:e.time||e})},refreshMainWindow:function(){o("notifyMainPage")},getPageType:function(){return o("getPageType")},voice:function(e){o("ttsSpeak",e)},loadSuccess:function(e){o("loadSuccess",e)},loaded:function(e){o("loaded",e)},createTimerTask:function(e){o("createTimerTask",e)},stopTimerTask:function(e){o("stopTimerTask",e)},changeLed:function(e){o("changeLed",e)},notify:function(e,n,t){switch(e){case"ENTER_SCREENSAVERS":e="inScreensaver";break;case"APP_CMD":e="NOTIFY_APP";break;case"TTS_SPEAK":e="TTS_SPEAK";break;case"APP_SHOW":case"show":e="APP_SHOW";break;case"NOTIFY_TIMER":case"TIMER_NOTIFY":e="TIMER_NOTIFY"}window.ljTsEventAction[e]=function(e){n&&n(e,t)}},ready:function(e){e()}};e.exports=c}])});