!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("longjing",[],n):"object"==typeof exports?exports.longjing=n():e.longjing=n()}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){var t,r,o;window.ljTsEventAction={},window.onTsEvent=function(){var e;switch(arguments.length){case 1:e="string"==typeof arguments[0]?JSON.parse(arguments[0]):arguments[0],"function"==typeof ljTsEventAction[e.fn]&&(0==e.code?ljTsEventAction[e.fn](e.data):ljTsEventAction[e.fn](e));break;case 2:"function"==typeof ljTsEventAction[arguments[0]]&&ljTsEventAction[arguments[0]](arguments[1])}},e.exports=(t=function(e,n){return n?JSON.stringify({fn:e,data:n}):JSON.stringify({fn:e})},r=function(){var e=arguments[0],n="object"==typeof arguments[1]?arguments[1]:null,r=null;if("object"==typeof arguments[1]?!0===arguments[2]:!0===arguments[1])try{return void 0!==(r=JSON.parse(window.tianshan.invokeApp(t(e,n)))).code&&0==r.code?r.data||{}:r}catch(o){return console.log(t(e,n),window.tianshan.invokeApp(t(e,n)),"tianshan return data is not json format",o),r}else try{window.tianshan.invokeApp(t(e,n))}catch(r){console.log("app run function has error",t(e,n),r)}},o={test:function(){return"driver is ok"},getAppID:function(){return r("getAppId",!0)},getPageType:function(){return r("getPageType",!0)},restart:function(){r("restart")},upgrade:function(e){r("upgrade",e)},open:function(e){r("open",e)},quit:function(e){r("quit",e)},readFile:function(e){return r("readFile",e,!0)},readConfig:function(){return r("readConfig",!0)},getAppVersion:function(){return r("getAppVersion",!0)},writeConfig:function(e){r("writeConfig",e)},setQuitTime:function(e){r("setQuitTime",e)},notifyMainPage:function(){r("notifyMainPage")},ttsSpeak:function(e){r("ttsSpeak",e)},loadSuccess:function(e){r("loadSuccess",e)},loaded:function(){r("loaded")},createTimerTask:function(e){r("createTimerTask",e)},stopTimerTask:function(e){r("stopTimerTask",e)},changeLed:function(e){r("changeLed",e)},getDriverVersion:function(){return r("getDriverVersion",!0)},printV1:function(e){r("printV1",e)},printV2:function(e){r("printV2",e)},compareFace1V1:function(e){return r("compareFace1V1",e,!0)},openCameraPreview:function(e){r("openCameraPreview",e)},closeCameraPreview:function(){r("closeCameraPreview")},takePicture:function(e){return r("takePicture",e,!0)},startFaceComparison:function(e){r("startFaceComparison",e)},stopFaceComparison:function(){r("stopFaceComparison")},connectPrinter:function(e){return r("connectPrinter",e,!0)},printSunmi:function(e){r("printSunmi",e)},printTec:function(e){r("printTec",e)},sensetimeRegister:function(e){r("sensetimeRegister",e)}},function(e,n){return o[e]?"function"==typeof o[e]?o[e](n):o[e]:n?(n.callback&&n.callback(n),n.callbackFn&&n.callbackFn(n),void(n.fn&&n.fn(n))):null})},function(e,n,t){var r=t(0),o={getDeviceNumber:function(){return this.get().clientNumber||null},getSellerId:function(){return this.get().sellerId||null},getPointNo:function(){return this.get().pointNo||null},get:function(){var e=r("readFile",{path:"sys/client.json"})||{},n={};try{n=JSON.parse(e.content)}catch(t){n=e.content||{}}return n}},i=r("getAppID"),c={test:function(){return"hello world"},config:function(){var e=function(){var e=n(),t=arguments[0];if("object"==typeof t)for(var o in t)e[o]=t[o];else e[t]=arguments[1];r("writeConfig",{content:JSON.stringify(e)})},n=function(e){var n=r("readConfig")||{},t={};try{t="string"==typeof n.content?function(e){return"object"==typeof e?e:arguments.callee(JSON.parse(e))}(JSON.parse(n.content)||{}):n.content||{}}catch(e){t=n.content||{},console.log("读取配置时，数据处理异常")}if(e)switch(e){case"deviceNumber":return o.getDeviceNumber();case"sellerId":return o.getSellerId();case"pointNo":return o.getPointNo();case"appid":case"appId":case"appID":return"object"==typeof i?i.appId:i;default:return t[e]||null}return t};switch(arguments.length){case 2:e(arguments[0],arguments[1]);break;case 1:if("object"==typeof arguments[0]&&e(arguments[0]),"string"==typeof arguments[0])return n(arguments[0]);break;case 0:return n()}},getAppVersion:function(){var e=r("getAppVersion");return"object"==typeof e?e.appVersion:e},openChildWindow:function(e){r("open",{type:e.type||"offline",url:e.path})},closeChildWindow:function(e){e?r("quit",{url:e}):r("quit")},refresh:function(e){r("refresh",{path:e})},upgrade:function(e){r("upgrade",{url:e.url}),this.ts("upgradeResult",function(){r("restart")})},setChildWindowAutoCloseSecond:function(e){r("setQuitTime",{time:e.time||e})},refreshMainWindow:function(){r("notifyMainPage")},getPageType:function(){return r("getPageType")},voice:function(e){r("ttsSpeak",e)},loadSuccess:function(e){r("loadSuccess",e)},loaded:function(e){r("loaded",e)},createTimerTask:function(e){r("createTimerTask",e)},stopTimerTask:function(e){r("stopTimerTask",e)},changeLed:function(e){r("changeLed",e)},printV1:function(e){r("printV1",e)},printV2:function(e){r("printV2",e)},getDriverVersion:function(){return r("getDriverVersion")},compareFace1V1:function(e){return r("compareFace1V1",e)},openCameraPreview:function(e){r("openCameraPreview",e)},closeCameraPreview:function(){r("closeCameraPreview")},takePicture:function(e){return r("takePicture",e)},startFaceComparison:function(e){r("startFaceComparison",e)},stopFaceComparison:function(){r("stopFaceComparison")},connectPrinter:function(e){return r("connectPrinter",e)},printSunmi:function(e){r("printSunmi",e)},printTec:function(e){r("printTec",e)},sensetimeRegister:function(e){r("sensetimeRegister",e)},notify:function(e,n,t){switch(e){case"ENTER_SCREENSAVERS":e="inScreensaver";break;case"APP_CMD":e="NOTIFY_APP";break;case"TTS_SPEAK":e="TTS_SPEAK";break;case"APP_SHOW":case"show":e="APP_SHOW";break;case"NOTIFY_TIMER":case"TIMER_NOTIFY":e="TIMER_NOTIFY";break;case"DRIVER_GET_CARD_NUM":e="DRIVER_GET_CARD_NUM";break;case"DRIVER_GET_SCAN_CODE":e="DRIVER_GET_SCAN_CODE";break;case"DRIVER_GET_PRINT_RESULT":e="DRIVER_GET_PRINT_RESULT";break;case"FACE_COMPARISON_RESULT":e="FACE_COMPARISON_RESULT";break;case"SOFT_INPUT_CHANGED":e="SOFT_INPUT_CHANGED";break;case"DRIVER_TEMPERATURE_RESULT":e="DRIVER_TEMPERATURE_RESULT";break;case"DRIVER_SENSETIME_RESULT":e="DRIVER_SENSETIME_RESULT"}window.ljTsEventAction[e]=function(e){n&&n(e,t)}},ready:function(e){e()}};e.exports=c}])});